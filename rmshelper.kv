# Currently two screens
windowManager:
    loginWindow:
    appWindow:
    poSelectWindow:

<poSelectWindow>:
    name:"screen_po_select"
    id: po_select
    MDCard:
        size_hint: None, None
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 10
        padding: 10
        spacing: 5
        orientation: 'vertical'

        MDLabel:
            id: rms_helper_po_select
            text: "RMSHelper PO Select"
            font_size: 25
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
            padding_y: 15

        MDRoundFlatButton:
            text: "Select"
            font_size: 12
            pos_hint: {"center_x": 0.5}
            on_press: app.rmshelper_po_select()

        MDRoundFlatButton:
            text: "Exit"
            font_size: 12
            pos_hint: {"center_x": 0.5}
            on_press: app.po_select_exit()

        MDLabel:
            id: msg_label
            text: "Message"
            font_size: 10
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
            padding_y: 15

<loginWindow>:
    name:"screen_login"
    id: screen_login
    MDCard:
        size_hint: None, None
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 10
        padding: 10
        spacing: 5
        orientation: 'vertical'

        MDLabel:
            id: rmshelper_label
            text: "RMSHelper Client"
            font_size: 15
            halign: 'center'
            #size_hint_y: None
            height: self.texture_size[1]
            padding_y: 15

        MDTextField:
            id: ip_address
            hint_text: "Server IP Address"
            icon_right: "eye-off"
            size_hint_x: None
            width: 200
            font_size: 15
            pos_hint: {"center_x": 0.5}

        MDRoundFlatButton:
            text: "LOG IN"
            font_size: 12
            pos_hint: {"center_x": 0.5}
            on_press: app.rmshelper_client_connect()

        MDRoundFlatButton:
            text: "CLEAR"
            font_size: 12
            pos_hint: {"center_x": 0.5}
            on_press: app.clear()

        MDLabel:
            id: msg_label
            text: "Message"
            font_size: 10
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
            padding_y: 15

<appWindow>:
    name:"screen_app"
    id: app_screens
    BoxLayout:
        orientation: 'vertical'
        #Comment MDTopAppBar section to remove toolbar and still maintain full fucntionality
        MDTopAppBar:
            title: "RMSHelper Client"
            size_hint: (1, 0.1)
            elevation: 10
            left_action_items: [['menu', lambda x: nav_drawer.set_state("open")]]
            right_action_items:
                [
                ["PO", lambda x: app.po_select_cb(x), "PO Select"],
                ['logout', lambda x: app.app_exit_cb(x), "Exit RMSHelperClient"]
                ]

        #End MDTopAppBar section
        ScreenManager:
            id: sm_sub
            Screen:
                #rgba: 0, 1, 1, 1
                orientation: 'vertical'
                name:"screen_app_activity"

                # RMSHelperClient Item Screen
                MDBoxLayout:
                    pos_hint:{'center_y':.95}
                    orientation: 'horizontal'
                    MDLabel:
                        text:"UPC"
                        pos_hint:{'center_y':.5}
                        width: self.height
                    MDTextField:
                        id: upc
                        size_hint: 1, None
                        focus: True
                        size_hint_x: 1
                        font_size: 15
                        pos_hint: {"center_y": 0.5}
                        helper_text_mode: "on_focus"
                        line_color_focus: 1, 0, 1, 1
                        color_active: 1, 0, 0, 1
                        fill_color: 0, 0, 0, .4
                    MDLabel:
                        text:"Last Sold"
                        pos_hint:{'center_y':0.5}
                        line_color_focus: 1, 0, 1, 1
                        color_active: 1, 0, 0, 1
                        mode: "fill"
                        fill_color: 0, 0, 0, .4
                    MDTextField:
                        id: last_sold
                        size_hint_x: None
                        font_size: 15
                        pos_hint: {"center_y": 0.5}
                        line_color_focus: 1, 0, 1, 1
                        color_active: 1, 0, 0, 1
                        fill_color: 0, 0, 1, .4
                        focus: False
                MDBoxLayout:
                    pos_hint:{'center_y':.85}
                    MDLabel:
                        text:"DESC"
                        pos_hint:{'center_y':.5}
                        size_hint_x: 0
                        padding: "4dp", "4dp"
                    MDTextField:
                        id: description
                        size_hint_x: 0.1
                        font_size: 15
                        pos_hint: {"center_y": 0.5}
                        padding: "4dp", "4dp"
                MDBoxLayout:
                    pos_hint:{'center_y':0.75}
                    orientation: 'horizontal'
                    MDLabel:
                        text:"D1"
                        pos_hint:{'center_y':0.5}
                        padding: "4dp", "4dp"
                    MDTextField:
                        id: desc1
                        font_size: 15
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                    MDLabel:
                        text:"RP"
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                    MDTextField:
                        id: retail_price
                        font_size: 15
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                    MDLabel:
                        text:"7"
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                    MDTextField:
                        id: seven_day
                        font_size: 15
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                MDBoxLayout:
                    pos_hint:{'center_y':0.65}
                    orientation: 'horizontal'
                    MDLabel:
                        text:"D2"
                        pos_hint: {"center_y": 0.5}
                        padding: "4dp", "4dp"
                    MDTextField:
                        id: desc2
                        font_size: 15
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                    MDLabel:
                        text:"SP"
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                    MDTextField:
                        id: sale_price
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                        font_size: 15
                    MDLabel:
                        text:"14"
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                    MDTextField:
                        id: fourteen_day
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                        font_size: 15
                MDBoxLayout:
                    pos_hint:{'center_y':0.55}
                    orientation: 'horizontal'
                    MDLabel:
                        text:"D3"
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                    MDTextField:
                        id: desc3
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                        font_size: 15
                    MDLabel:
                        text:"CO"
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                    MDTextField:
                        id: cost_price
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                        font_size: 15
                    MDLabel:
                        text:"30"
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                    MDTextField:
                        id: thirty_day
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                        font_size: 15
                MDBoxLayout:
                    pos_hint:{'center_y':0.45}
                    orientation: 'horizontal'
                    MDLabel:
                        text:"DEPT"
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                    MDTextField:
                        id: dept
                        padding: "4dp", "4dp"
                        font_size: 15
                        pos_hint: {"center_y": 0.5}
                    MDLabel:
                        text:"SS"
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                    MDTextField:
                        id: sale_start
                        padding: "4dp", "4dp"
                        font_size: 15
                        pos_hint: {"center_y": 0.5}
                MDBoxLayout:
                    pos_hint:{'center_y':0.35}
                    orientation: 'horizontal'
                    MDLabel:
                        text:"SUPP"
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                    MDTextField:
                        id: supply
                        padding: "4dp", "4dp"
                        font_size: 15
                        pos_hint: {"center_y": 0.5}
                    MDLabel:
                        text:"SE"
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                    MDTextField:
                        id: sale_end
                        padding: "4dp", "4dp"
                        font_size: 15
                        pos_hint: {"center_y": 0.5}
                MDBoxLayout:
                    pos_hint:{'center_y':0.05}
                    orientation: 'vertical'
                    MDLabel:
                        text:"Suppliers"
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                    ScrollView:
                        id: suppliers_scroll_view
                        do_scroll_x: False
                        do_scroll_y: True
                        padding: "4dp", "4dp"
                        MDList:
                            id: suppliers
                            size_hint_y: None
                MDBoxLayout:
                    pos_hint:{'center_y':0.05}
                    orientation: 'horizontal'
                    MDRoundFlatButton:
                        text: "Print"
                        font_size: 15
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                        on_press: app.print_upc()
                    MDRoundFlatButton:
                        text: "CLEAR"
                        font_size: 15
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                        on_press: app.clear_app()
                    MDRoundFlatButton:
                        text: "Select"
                        font_size: 15
                        padding: "4dp", "4dp"
                        pos_hint: {"center_y": 0.5}
                        on_press: app.select_upc(upc)
            Screen:
                name:"screen_app_table"
                MDLabel:
                    text:"Table Screen Label"
                    pos_hint:{'center_x':1}
            Screen:
                name:"po_select_activity"
                MDLabel:
                    text:"PO Select"
                    pos_hint:{'center_x':1}
    MDNavigationDrawer:
        id: nav_drawer
        MDBoxLayout:
            orientation: 'vertical'
            MDRoundFlatButton:
                text:"activity screen"
                on_release:
                    sm_sub.current='screen_app_activity'
            MDRoundFlatButton:
                text:"table screen"
                on_release:
                    sm_sub.current='screen_app_table'
            MDRoundFlatButton:
                text:"PO Select"
                on_release:
                    sm_sub.current='po_select_activity'
